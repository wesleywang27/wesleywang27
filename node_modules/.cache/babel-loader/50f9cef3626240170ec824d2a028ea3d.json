{"remainingRequest":"/Users/deyi5/IdeaProjects/wesleywang27.github.io/node_modules/babel-loader/lib/index.js!/Users/deyi5/IdeaProjects/wesleywang27.github.io/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/deyi5/IdeaProjects/wesleywang27.github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/deyi5/IdeaProjects/wesleywang27.github.io/src/components/Invitation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/deyi5/IdeaProjects/wesleywang27.github.io/src/components/Invitation.vue","mtime":1636619050900},{"path":"/Users/deyi5/IdeaProjects/wesleywang27.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1636341352436},{"path":"/Users/deyi5/IdeaProjects/wesleywang27.github.io/node_modules/babel-loader/lib/index.js","mtime":1636341352399},{"path":"/Users/deyi5/IdeaProjects/wesleywang27.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1636341352436},{"path":"/Users/deyi5/IdeaProjects/wesleywang27.github.io/node_modules/vue-loader/lib/index.js","mtime":1636341353709}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: ['canOpen'],\n  data: function data() {\n    return {\n      isOpening: false,\n      wish: '',\n      isFocused: false,\n      hasEntered: false,\n      video: 'https://player.bilibili.com/player.html?aid=927638046&bvid=BV12T4y1F7w2&cid=252389250&page=1&high_quality=1&danmaku=0'\n    };\n  },\n  methods: {\n    // 打开邀请函\n    openInvitation: function openInvitation() {\n      this.isOpening = true; // 播放拆信音效\n\n      var audio = document.getElementById('envelope');\n      audio.play(); // 播放视频\n\n      var video = document.getElementById('video');\n      video.play();\n    },\n    closeInvitation: function closeInvitation() {\n      var _this = this;\n\n      this.isOpening = false;\n      document.getElementById('video').contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n      setTimeout(function () {\n        _this.$emit('onClose', _this.wish);\n      }, 660);\n    },\n    // 发送弹幕\n    sendBarrage: function sendBarrage() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        if (!_this2.wish) {\n          return;\n        }\n\n        _this2.hasEntered = true;\n        _this2.isOpening = true;\n\n        _this2.$refs.wishInput.blur();\n\n        setTimeout(function () {\n          _this2.$emit('sendBarrage', _this2.wish);\n        }, 660);\n      });\n    }\n  }\n};",{"version":3,"sources":["Invitation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,SAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,KAHA;AAIA,MAAA,UAAA,EAAA,KAJA;AAKA,MAAA,KAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,cAFA,4BAEA;AACA,WAAA,SAAA,GAAA,IAAA,CADA,CAEA;;AACA,UAAA,KAAA,GAAA,QAAA,CAAA,cAAA,CAAA,UAAA,CAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAJA,CAKA;;AACA,UAAA,KAAA,GAAA,QAAA,CAAA,cAAA,CAAA,OAAA,CAAA;AACA,MAAA,KAAA,CAAA,IAAA;AACA,KAVA;AAWA,IAAA,eAXA,6BAWA;AAAA;;AACA,WAAA,SAAA,GAAA,KAAA;AACA,MAAA,QAAA,CAAA,cAAA,CAAA,OAAA,EAAA,aAAA,CAAA,WAAA,CAAA,mDAAA,EAAA,GAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,SAAA,EAAA,KAAA,CAAA,IAAA;AACA,OAFA,EAEA,GAFA,CAAA;AAGA,KAjBA;AAkBA;AACA,IAAA,WAnBA,yBAmBA;AAAA;;AACA,WAAA,SAAA,CAAA,YAAA;AACA,YAAA,CAAA,MAAA,CAAA,IAAA,EAAA;AACA;AACA;;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,IAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,IAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,SAAA,CAAA,IAAA;;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,aAAA,EAAA,MAAA,CAAA,IAAA;AACA,SAFA,EAEA,GAFA,CAAA;AAGA,OAVA;AAWA;AA/BA;AAXA,CAAA","sourcesContent":["<template>\n  <div class=\"wedding-invitation\" :class=\"{ 'invitation-bounce':canOpen }\">\n    <div class=\"invitation-container\" :class=\"{ 'invitation-down':isOpening }\">\n      <div class=\"invitation-cover\">\n        <div class=\"cover-content\" :class=\"{'invitation-up':isOpening}\">\n          <div class=\"content-inside\">\n            <!-- 拆信音效 -->\n            <audio id=\"envelope\" :src=\"require('../audios/envelope.mp3')\"></audio>\n            <iframe class=\"content-inside-photo\" id=\"video\" :src=\"video\"\n                    width=\"100%\" height=\"180\"\n                    scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\n                    sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts\"></iframe>\n            <p>我们结婚啦！</p>\n            <p><b>王得屹 & 张楠鸽</b></p>\n            <p>时间：2021.12.05 星期日</p>\n            <p>地点：<b>沈阳市皇姑区禧道婚礼堂</b></p>\n            <p><b>(黄河南大街38号)</b></p>\n            <div class=\"content-inside-bless\">\n              <input\n                placeholder=\"写下你的婚礼祝福\"\n                @keyup.enter=\"sendBarrage\"\n                @focus=\"isFocused = true\"\n                @blur=\"isFocused = false, hasEntered = false\"\n                v-model=\"wish\"\n                ref=\"wishInput\"\n              >\n              <p v-if=\"!wish && isFocused\">↓写下你的婚礼祝福，点击发送弹幕哦↓</p>\n              <div>\n                <button @click=\"sendBarrage\">发送祝福弹幕</button>\n                <button @click=\"closeInvitation\">关闭</button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"cover-inside-left\" :class=\"{'opening':isOpening}\"></div>\n        <div class=\"cover-inside-right\" :class=\"{'opening':isOpening}\"></div>\n        <img class=\"cover-inside-seal\" src=\"../images/seal.png\" @click=\"openInvitation\" :class=\"{'invitation-flight':isOpening}\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['canOpen'],\n  data() {\n    return {\n      isOpening: false,\n      wish: '',\n      isFocused: false,\n      hasEntered: false,\n      video: 'https://player.bilibili.com/player.html?aid=927638046&bvid=BV12T4y1F7w2&cid=252389250&page=1&high_quality=1&danmaku=0'\n    }\n  },\n  methods: {\n    // 打开邀请函\n    openInvitation(){\n      this.isOpening = true\n      // 播放拆信音效\n      let audio = document.getElementById('envelope');\n      audio.play();\n      // 播放视频\n      let video = document.getElementById('video');\n      video.play();\n    },\n    closeInvitation () {\n      this.isOpening = false\n      document.getElementById('video').contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n      setTimeout(() => {\n        this.$emit('onClose', this.wish)\n      }, 660)\n    },\n    // 发送弹幕\n    sendBarrage(){\n      this.$nextTick(() => {\n        if (!this.wish) {\n          return\n        }\n        this.hasEntered = true\n        this.isOpening = true\n        this.$refs.wishInput.blur()\n        setTimeout(() => {\n          this.$emit('sendBarrage', this.wish)\n        }, 660)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n  .wedding-invitation{\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    padding: 30px 20px;\n    padding-top: 60px;\n    z-index: 4;\n    transform: scale(0.05);\n    -webkit-transform: scale(0.05);\n    opacity: 0;\n    transition: transform 0.8s cubic-bezier(.26,1.84,.39,.61), opacity 0.5s linear;\n    -webkit-transition: -webkit-transform 0.8s cubic-bezier(.26,1.84,.39,.61), opacity 0.5s linear;\n    background-size: 100%;\n    overflow: hidden;\n    &.invitation-bounce{\n      opacity: 1;\n      transform: scale(1);\n      -webkit-transform: scale(1);\n    }\n    .invitation-container{\n      position: relative;\n      width: 100%;\n      height: 100%;\n      transition: transform 0.6s cubic-bezier(0.4, 0, 1, 1);\n      -webkit-transition: -webkit-transform 0.6s cubic-bezier(0.4, 0, 1, 1);\n      &.invitation-down{\n        transform: translateY(20px);\n        -webkit-transform: translateY(20px);\n      }\n      .invitation-cover{\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: #e3362a;\n        border-radius: 10px;\n        perspective: 500px;\n        box-shadow: 0 0 20px 2px rgba(0, 0, 0, 0.15);\n        .cover-content{\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          padding: 20px 6px;\n          transition: transform 0.6s cubic-bezier(0.4, 0, 1, 1);\n          -webkit-transition: -webkit-transform 0.6s cubic-bezier(0.4, 0, 1, 1);\n          &.invitation-up{\n            transform: translateY(-60px);\n            -webkit-transform: translateY(-60px);\n          }\n          .content-inside{\n            -moz-user-select: none;\n            -webkit-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            height: 100%;\n            padding: 20px;\n            color: #a9895d;\n            background-color: #FFF1DE;\n            text-align: center;\n            overflow: auto;\n            .content-inside-photo{\n              user-select: none;\n              width: 100%;\n              margin-bottom: 10px;\n              padding: 5px;\n              border: 1px solid #f7debb;\n            }\n            p{\n              margin-top: 0;\n              margin-bottom: 5px;\n            }\n            .content-inside-bless{\n              input{\n                width: 100%;\n                height: 35px;\n                margin-bottom: 10px;\n                outline: none;\n                border: none;\n                border-bottom: 1px solid #f7debb;\n                color: #a9895d;\n                background: transparent;\n                font-size: 16px;\n                &::-webkit-input-placeholder { color: #E8D1B1;font-size: 12px; }\n                &::-moz-placeholder { color: #E8D1B1;font-size: 12px; }\n                &:-ms-input-placeholder { color: #E8D1B1;font-size: 12px; }\n                &:-moz-placeholder { color: #E8D1B1;font-size: 12px; }\n              }\n              >div{\n                display: flex;\n                button{\n                  width: 100%;\n                  height: 35px;\n                  color: #a9895d;\n                  background: #f7debb;\n                  border: none;\n                  outline: none;\n                  &:disabled{\n                    opacity: 0.8;\n                  }\n                  &:first-child{\n                    margin-right: 10px;\n                    flex: 1;\n                  }\n                  &:last-child{\n                    width: 60px;\n                    border: 1px solid #f7debb;\n                    background: transparent;\n                  }\n                }\n              }\n            }\n          }\n        }\n        .cover-inside-left{\n          position: absolute;\n          left: 0;\n          top: 0;\n          width: 70%;\n          height: 100%;\n          border-radius: 10px;\n          background-color: #e3362a;\n          box-shadow: 5px 0 10px rgba(0,0,0,0.2);\n          z-index: 6;\n          transition: transform 0.5s;\n          -webkit-transition: -webkit-transform 0.5s;\n          transform-origin: 0 50%;\n          -webkit-transform-origin: 0 50%;\n          &.opening{\n            transform: rotate3d(0,1,0,-140deg);\n            -webkit-transform: rotate3d(0,1,0,-140deg);\n          }\n        }\n        .cover-inside-right{\n          position: absolute;\n          right: 0;\n          top: 0;\n          width: 40%;\n          height: 100%;\n          border-radius: 10px;\n          background-color: #e3362a;\n          box-shadow: -5px 0 10px rgba(0,0,0,0.2);\n          z-index: 5;\n          transition: transform 0.5s;\n          -webkit-transition: -webkit-transform 0.5s;\n          transform-origin: 100% 50%;\n          -webkit-transform-origin: 100% 50%;\n          &.opening{\n            transform: rotate3d(0,1,0,140deg);\n            -webkit-transform: rotate3d(0,1,0,140deg);\n          }\n        }\n        .cover-inside-seal{\n          position: absolute;\n          left: 70%;\n          top: 160px;\n          width: 80px;\n          height: 80px;\n          margin-left: -40px;\n          z-index: 7;\n          transform-origin: 50% 50%;\n          -webkit-transform-origin: 50% 50%;\n          transition: all 0.8s cubic-bezier(0.4, 0, 1, 1);\n          -webkit-transition: all 0.8s cubic-bezier(0.4, 0, 1, 1);\n          &.invitation-flight{\n            opacity: 0;\n          }\n        }\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/components"}]}